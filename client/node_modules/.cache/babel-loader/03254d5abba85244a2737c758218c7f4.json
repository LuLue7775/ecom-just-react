{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nimport { createStore } from 'redux';\nimport persistReducer from './persistReducer';\nimport { FLUSH, PAUSE, PERSIST, PURGE, REGISTER, REHYDRATE } from './constants';\nvar initialState = {\n  registry: [],\n  bootstrapped: false\n};\n\nvar persistorReducer = function persistorReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case REGISTER:\n      return _extends({}, state, {\n        registry: [].concat(_toConsumableArray(state.registry), [action.key])\n      });\n\n    case REHYDRATE:\n      var firstIndex = state.registry.indexOf(action.key);\n      var registry = [].concat(_toConsumableArray(state.registry));\n      registry.splice(firstIndex, 1);\n      return _extends({}, state, {\n        registry: registry,\n        bootstrapped: registry.length === 0\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default function persistStore(store, options, cb) {\n  // help catch incorrect usage of passing PersistConfig in as PersistorOptions\n  if (process.env.NODE_ENV !== 'production') {\n    var optionsToTest = options || {};\n    var bannedKeys = ['blacklist', 'whitelist', 'transforms', 'storage', 'keyPrefix', 'migrate'];\n    bannedKeys.forEach(function (k) {\n      if (!!optionsToTest[k]) console.error('redux-persist: invalid option passed to persistStore: \"' + k + '\". You may be incorrectly passing persistConfig into persistStore, whereas it should be passed into persistReducer.');\n    });\n  }\n\n  var boostrappedCb = cb || false;\n\n  var _pStore = createStore(persistorReducer, initialState, options ? options.enhancer : undefined);\n\n  var register = function register(key) {\n    _pStore.dispatch({\n      type: REGISTER,\n      key: key\n    });\n  };\n\n  var rehydrate = function rehydrate(key, payload, err) {\n    var rehydrateAction = {\n      type: REHYDRATE,\n      payload: payload,\n      err: err,\n      key: key // dispatch to `store` to rehydrate and `persistor` to track result\n\n    };\n    store.dispatch(rehydrateAction);\n\n    _pStore.dispatch(rehydrateAction);\n\n    if (boostrappedCb && persistor.getState().bootstrapped) {\n      boostrappedCb();\n      boostrappedCb = false;\n    }\n  };\n\n  var persistor = _extends({}, _pStore, {\n    purge: function purge() {\n      var results = [];\n      store.dispatch({\n        type: PURGE,\n        result: function result(purgeResult) {\n          results.push(purgeResult);\n        }\n      });\n      return Promise.all(results);\n    },\n    flush: function flush() {\n      var results = [];\n      store.dispatch({\n        type: FLUSH,\n        result: function result(flushResult) {\n          results.push(flushResult);\n        }\n      });\n      return Promise.all(results);\n    },\n    pause: function pause() {\n      store.dispatch({\n        type: PAUSE\n      });\n    },\n    persist: function persist() {\n      store.dispatch({\n        type: PERSIST,\n        register: register,\n        rehydrate: rehydrate\n      });\n    }\n  });\n\n  persistor.persist();\n  return persistor;\n}","map":{"version":3,"sources":["F:/XAMPP/htdocs/ecom-just-react/node_modules/redux-persist/es/persistStore.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_toConsumableArray","arr","Array","isArray","arr2","from","createStore","persistReducer","FLUSH","PAUSE","PERSIST","PURGE","REGISTER","REHYDRATE","initialState","registry","bootstrapped","persistorReducer","state","undefined","action","type","concat","firstIndex","indexOf","splice","persistStore","store","options","cb","process","env","NODE_ENV","optionsToTest","bannedKeys","forEach","k","console","error","boostrappedCb","_pStore","enhancer","register","dispatch","rehydrate","payload","err","rehydrateAction","persistor","getState","purge","results","result","purgeResult","push","Promise","all","flush","flushResult","pause","persist"],"mappings":"AAAA,IAAIA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,SAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,QAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOL,MAAP;AAAgB,CAAhQ;;AAEA,SAASS,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,MAAIC,KAAK,CAACC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,SAAK,IAAIT,CAAC,GAAG,CAAR,EAAWY,IAAI,GAAGF,KAAK,CAACD,GAAG,CAACP,MAAL,CAA5B,EAA0CF,CAAC,GAAGS,GAAG,CAACP,MAAlD,EAA0DF,CAAC,EAA3D,EAA+D;AAAEY,MAAAA,IAAI,CAACZ,CAAD,CAAJ,GAAUS,GAAG,CAACT,CAAD,CAAb;AAAmB;;AAAC,WAAOY,IAAP;AAAc,GAA7H,MAAmI;AAAE,WAAOF,KAAK,CAACG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAEnM,SAASK,WAAT,QAA4B,OAA5B;AAEA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAASC,KAAT,EAAgBC,KAAhB,EAAuBC,OAAvB,EAAgCC,KAAhC,EAAuCC,QAAvC,EAAiDC,SAAjD,QAAkE,aAAlE;AAEA,IAAIC,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAE,EADO;AAEjBC,EAAAA,YAAY,EAAE;AAFG,CAAnB;;AAKA,IAAIC,gBAAgB,GAAG,SAASA,gBAAT,GAA4B;AACjD,MAAIC,KAAK,GAAGzB,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB0B,SAAzC,GAAqD1B,SAAS,CAAC,CAAD,CAA9D,GAAoEqB,YAAhF;AACA,MAAIM,MAAM,GAAG3B,SAAS,CAAC,CAAD,CAAtB;;AAEA,UAAQ2B,MAAM,CAACC,IAAf;AACE,SAAKT,QAAL;AACE,aAAOxB,QAAQ,CAAC,EAAD,EAAK8B,KAAL,EAAY;AAAEH,QAAAA,QAAQ,EAAE,GAAGO,MAAH,CAAUtB,kBAAkB,CAACkB,KAAK,CAACH,QAAP,CAA5B,EAA8C,CAACK,MAAM,CAACxB,GAAR,CAA9C;AAAZ,OAAZ,CAAf;;AACF,SAAKiB,SAAL;AACE,UAAIU,UAAU,GAAGL,KAAK,CAACH,QAAN,CAAeS,OAAf,CAAuBJ,MAAM,CAACxB,GAA9B,CAAjB;AACA,UAAImB,QAAQ,GAAG,GAAGO,MAAH,CAAUtB,kBAAkB,CAACkB,KAAK,CAACH,QAAP,CAA5B,CAAf;AACAA,MAAAA,QAAQ,CAACU,MAAT,CAAgBF,UAAhB,EAA4B,CAA5B;AACA,aAAOnC,QAAQ,CAAC,EAAD,EAAK8B,KAAL,EAAY;AAAEH,QAAAA,QAAQ,EAAEA,QAAZ;AAAsBC,QAAAA,YAAY,EAAED,QAAQ,CAACrB,MAAT,KAAoB;AAAxD,OAAZ,CAAf;;AACF;AACE,aAAOwB,KAAP;AATJ;AAWD,CAfD;;AAiBA,eAAe,SAASQ,YAAT,CAAsBC,KAAtB,EAA6BC,OAA7B,EAAsCC,EAAtC,EAA0C;AACvD;AACA,MAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,QAAIC,aAAa,GAAGL,OAAO,IAAI,EAA/B;AACA,QAAIM,UAAU,GAAG,CAAC,WAAD,EAAc,WAAd,EAA2B,YAA3B,EAAyC,SAAzC,EAAoD,WAApD,EAAiE,SAAjE,CAAjB;AACAA,IAAAA,UAAU,CAACC,OAAX,CAAmB,UAAUC,CAAV,EAAa;AAC9B,UAAI,CAAC,CAACH,aAAa,CAACG,CAAD,CAAnB,EAAwBC,OAAO,CAACC,KAAR,CAAc,4DAA4DF,CAA5D,GAAgE,qHAA9E;AACzB,KAFD;AAGD;;AACD,MAAIG,aAAa,GAAGV,EAAE,IAAI,KAA1B;;AAEA,MAAIW,OAAO,GAAGlC,WAAW,CAACW,gBAAD,EAAmBH,YAAnB,EAAiCc,OAAO,GAAGA,OAAO,CAACa,QAAX,GAAsBtB,SAA9D,CAAzB;;AACA,MAAIuB,QAAQ,GAAG,SAASA,QAAT,CAAkB9C,GAAlB,EAAuB;AACpC4C,IAAAA,OAAO,CAACG,QAAR,CAAiB;AACftB,MAAAA,IAAI,EAAET,QADS;AAEfhB,MAAAA,GAAG,EAAEA;AAFU,KAAjB;AAID,GALD;;AAOA,MAAIgD,SAAS,GAAG,SAASA,SAAT,CAAmBhD,GAAnB,EAAwBiD,OAAxB,EAAiCC,GAAjC,EAAsC;AACpD,QAAIC,eAAe,GAAG;AACpB1B,MAAAA,IAAI,EAAER,SADc;AAEpBgC,MAAAA,OAAO,EAAEA,OAFW;AAGpBC,MAAAA,GAAG,EAAEA,GAHe;AAIpBlD,MAAAA,GAAG,EAAEA,GAJe,CAKpB;;AALoB,KAAtB;AAME+B,IAAAA,KAAK,CAACgB,QAAN,CAAeI,eAAf;;AACFP,IAAAA,OAAO,CAACG,QAAR,CAAiBI,eAAjB;;AACA,QAAIR,aAAa,IAAIS,SAAS,CAACC,QAAV,GAAqBjC,YAA1C,EAAwD;AACtDuB,MAAAA,aAAa;AACbA,MAAAA,aAAa,GAAG,KAAhB;AACD;AACF,GAbD;;AAeA,MAAIS,SAAS,GAAG5D,QAAQ,CAAC,EAAD,EAAKoD,OAAL,EAAc;AACpCU,IAAAA,KAAK,EAAE,SAASA,KAAT,GAAiB;AACtB,UAAIC,OAAO,GAAG,EAAd;AACAxB,MAAAA,KAAK,CAACgB,QAAN,CAAe;AACbtB,QAAAA,IAAI,EAAEV,KADO;AAEbyC,QAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBC,WAAhB,EAA6B;AACnCF,UAAAA,OAAO,CAACG,IAAR,CAAaD,WAAb;AACD;AAJY,OAAf;AAMA,aAAOE,OAAO,CAACC,GAAR,CAAYL,OAAZ,CAAP;AACD,KAVmC;AAWpCM,IAAAA,KAAK,EAAE,SAASA,KAAT,GAAiB;AACtB,UAAIN,OAAO,GAAG,EAAd;AACAxB,MAAAA,KAAK,CAACgB,QAAN,CAAe;AACbtB,QAAAA,IAAI,EAAEb,KADO;AAEb4C,QAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBM,WAAhB,EAA6B;AACnCP,UAAAA,OAAO,CAACG,IAAR,CAAaI,WAAb;AACD;AAJY,OAAf;AAMA,aAAOH,OAAO,CAACC,GAAR,CAAYL,OAAZ,CAAP;AACD,KApBmC;AAqBpCQ,IAAAA,KAAK,EAAE,SAASA,KAAT,GAAiB;AACtBhC,MAAAA,KAAK,CAACgB,QAAN,CAAe;AACbtB,QAAAA,IAAI,EAAEZ;AADO,OAAf;AAGD,KAzBmC;AA0BpCmD,IAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1BjC,MAAAA,KAAK,CAACgB,QAAN,CAAe;AAAEtB,QAAAA,IAAI,EAAEX,OAAR;AAAiBgC,QAAAA,QAAQ,EAAEA,QAA3B;AAAqCE,QAAAA,SAAS,EAAEA;AAAhD,OAAf;AACD;AA5BmC,GAAd,CAAxB;;AA+BAI,EAAAA,SAAS,CAACY,OAAV;AAEA,SAAOZ,SAAP;AACD","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nimport { createStore } from 'redux';\n\nimport persistReducer from './persistReducer';\nimport { FLUSH, PAUSE, PERSIST, PURGE, REGISTER, REHYDRATE } from './constants';\n\nvar initialState = {\n  registry: [],\n  bootstrapped: false\n};\n\nvar persistorReducer = function persistorReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case REGISTER:\n      return _extends({}, state, { registry: [].concat(_toConsumableArray(state.registry), [action.key]) });\n    case REHYDRATE:\n      var firstIndex = state.registry.indexOf(action.key);\n      var registry = [].concat(_toConsumableArray(state.registry));\n      registry.splice(firstIndex, 1);\n      return _extends({}, state, { registry: registry, bootstrapped: registry.length === 0 });\n    default:\n      return state;\n  }\n};\n\nexport default function persistStore(store, options, cb) {\n  // help catch incorrect usage of passing PersistConfig in as PersistorOptions\n  if (process.env.NODE_ENV !== 'production') {\n    var optionsToTest = options || {};\n    var bannedKeys = ['blacklist', 'whitelist', 'transforms', 'storage', 'keyPrefix', 'migrate'];\n    bannedKeys.forEach(function (k) {\n      if (!!optionsToTest[k]) console.error('redux-persist: invalid option passed to persistStore: \"' + k + '\". You may be incorrectly passing persistConfig into persistStore, whereas it should be passed into persistReducer.');\n    });\n  }\n  var boostrappedCb = cb || false;\n\n  var _pStore = createStore(persistorReducer, initialState, options ? options.enhancer : undefined);\n  var register = function register(key) {\n    _pStore.dispatch({\n      type: REGISTER,\n      key: key\n    });\n  };\n\n  var rehydrate = function rehydrate(key, payload, err) {\n    var rehydrateAction = {\n      type: REHYDRATE,\n      payload: payload,\n      err: err,\n      key: key\n      // dispatch to `store` to rehydrate and `persistor` to track result\n    };store.dispatch(rehydrateAction);\n    _pStore.dispatch(rehydrateAction);\n    if (boostrappedCb && persistor.getState().bootstrapped) {\n      boostrappedCb();\n      boostrappedCb = false;\n    }\n  };\n\n  var persistor = _extends({}, _pStore, {\n    purge: function purge() {\n      var results = [];\n      store.dispatch({\n        type: PURGE,\n        result: function result(purgeResult) {\n          results.push(purgeResult);\n        }\n      });\n      return Promise.all(results);\n    },\n    flush: function flush() {\n      var results = [];\n      store.dispatch({\n        type: FLUSH,\n        result: function result(flushResult) {\n          results.push(flushResult);\n        }\n      });\n      return Promise.all(results);\n    },\n    pause: function pause() {\n      store.dispatch({\n        type: PAUSE\n      });\n    },\n    persist: function persist() {\n      store.dispatch({ type: PERSIST, register: register, rehydrate: rehydrate });\n    }\n  });\n\n  persistor.persist();\n\n  return persistor;\n}"]},"metadata":{},"sourceType":"module"}